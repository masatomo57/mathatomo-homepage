---
image: ""
title: "モナドは閉包作用素の一般化"
datePublished: "2025/07/20"
dateModified: "2025/07/20"
tag: ["数学"]
description: "圏論の概念であるモナドが，閉包作用素の一般化であることを説明する記事"
---

## はじめに
数学の圏論という分野に，モナドという概念があります．モナドはプログラミング，特に関数型言語と呼ばれる種類のプログラミング言語で，型をある文脈に包むための道具としてしばしば使われます．例えば，Listモナドならある型の配列を作るので「複数の値が存在する」という文脈，Optionモナドなら値があるならそれをそのまま返して，なければNone(nullではない！)という値を持つので「値があるかもしれないし，ないかもしれない」という文脈に包まれている，といった具合です．

プログラミングの話はそのうちすることにして，ここでは純粋に数学のモナドについて，閉包作用素の一般化になっているという話をしたいと思います．

おことわり：私の数学の本のほとんどが実家にあるため，参考文献はインターネットです．誤りを見つけた場合，お手数ですがXのDMか何かにお知らせいただけると幸いです．

## 閉包作用素
$X$を位相空間とします．

**Def.** 部分集合$U \subset X$の**閉包**とは，$U$を含む最も小さい閉集合のことを言う．

閉包について定義から次の3つのことがわかります．
- **閉包を取る操作は，包含関係を保つ** 
- **閉包は元の集合よりも大きい**
- **閉包は2回以上とっても1回取るのと変わらない**

1つ目は背理法で示すことができます．2つ目と3つ目は明らかですね．これらのことから一般の冪集合上の閉包作用素を定義することができます．

**Def.** $\mathcal{P}(X)$を$X$の冪集合とする．$X$の閉包作用素とは，写像$cl: \mathcal{P}(X) \to \mathcal{P}(X)$で，条件
- $U \subset V \Rightarrow cl(U) \subset cl(V)$ (単調性)
- $U \subset cl(U)$ (拡張性)
- $cl(cl(U)) = cl(U)$ (冪等性)

を満たすものを言う．

位相空間の部分集合に対して閉包を取る操作は，閉包作用素になっていることがわかります．

## 閉包作用素は関手である
まず，冪集合と圏として見ましょう．冪集合は半順序集合なので，対象と射を次のように定めることができます．
- 対象: $X$の部分集合($\mathcal{P}(X)$の要素)
- 射: もし$U \subset V$なら，$U$から$V$への射が存在する．

これを踏まえて閉包作用素を見ると，関手になっていることがわかります．対象の対応は写像そのものであり，射の対応は単調性が担っています．

そうすると，閉包作用素というものを特徴づけているのは，拡張性と冪等性だと言うことがわかります．これらはどちらも射に関する条件です．
より一般的に，$\mathcal{C}$を圏とすると，閉包作用素は関手$F: \mathcal{C} \to \mathcal{C}$であり，次の条件を満たすもの，と理解することができます．
- $X \in Ob(\mathcal{C})$に対し，射$X \to F(X)$が存在する
- 対象$F(F(X))$と$F(X)$は同型である．すなわち，射$f: F(F(X)) \to F(X)$と$g: F(X) \to F(F(X))$が存在して，$g \circ f = id_{F(F(X))}, f \circ g = id_{F(X)}$を満たす．

要するに，関手と射の組があるわけですね．これらを使って，ついにモナドを定義することができます！

**Def.** 圏$\mathcal{C}$上の**モナド**とは，
- 関手 $F: \mathcal{C} \to \mathcal{C}$
- 自然変換 $\eta: id_{\mathcal{C}} \to F$
- 自然変換 $\mu: F^2 \to F$

の組$(F, \eta, \mu)$で，以下の可換図式

**結合律:**
$$
\begin{CD}
F^3 @>\mu_F>> F^2 \\
@VF\mu VV @VV\mu V \\
F^2 @>>\mu> F
\end{CD}
$$

**左単位律:**
$$
\begin{CD}
\begin{CD}
F @>F\eta>> F^2 \\
@|            @VV\mu V \\
F @= F
\end{CD}
\end{CD}
$$

**右単位律:**
$$
\begin{CD}
F @>\eta_F>> F^2 \\
@|           @VV\mu V \\
F @= F
\end{CD}
$$
を満たすもののことを言う．

（何やら可換図式がいますが）モナドを定義することができました！

## 終わりに
閉包作用素から，自然にモナドの定義が現れることを見ました．単調性がそのまま関手の射の対応になると言うところが個人的には好きです．

また，可換図式についてですが，これはモナドがモノイドと深く関連していることを示しています．これについてはまた別の機会に書こうと思います．

最後までお読みいただきありがとうございました．